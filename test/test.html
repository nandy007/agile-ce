<!-- HTML5文件 -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>Agile CE</title>
    <script src="../dist/agile.ce.browser.js" charset="UTF-8"></script>
    <style>
        a{background: #ccc;}
        a.active{background: #ff0000;}
    </style>
</head>

<body>
    <div id="app">
        <div v-for="itemA in list">
            <div v-for="itemB in itemA" v-filter="doFilter" v-watch="$index">
                <!-- <span>{{itemB}}</span> -->
                <!-- <span>{{$index}}</span> -->
                <!-- <span>{{itemB.c}}</span> -->
                <span>{{itemB.title}}</span>
            </div>
            
        </div>
    </div>
    <script>
		
        var obj = {
            doFilter: function(index, item, arr, $node){
                // console.log(index);
                // $.util.defRec(item, 'title', obj.title[index]);
                // console.log(111);
                
                if(typeof arr[index]==='object'){
                    item.title = obj.title[index];
                }else{
                    arr[index] = {
                        c: item,
                        title: obj.title[index]
                    };
                    this.reObserve();
                }
            },
            test: 1,
			list: [
                [
                    'a', 'b', 'c'
                ]
            ],
            title: ['title0', 'title1', 'title2']
		};

        $('#app').render(obj);

        obj.list[0].shift();
        // obj.list[0].splice(1, 1, '222')
        

    </script>
</body>

</html>